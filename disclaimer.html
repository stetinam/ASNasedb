<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Asparaginase Database Help</title>
    <link rel="icon" type="image/png" href="/images/logo5.png" />

    <link
      href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Source Sans Pro", sans-serif;
        background-color: #f9f9f9;
        color: var(--dark-gray);
        line-height: 1.6;
        margin: 0;
        padding: 0;
      }

      .content {
        max-width: 1300px;
        margin: 20px auto;
        padding: 0 20px;
        text-align: left;
      }

      .content h2 {
        font-size: 22px;
        margin-top: 20px;
      }

      h2 {
        color: #01ad62;
        font-size: 23px;
        text-align: left;
      }

      .content p {
        font-size: 18px;
        line-height: 1.6;
        text-align: justify; /* Justify paragraph text */
      }
      /* Base link styling */
      a {
        color: #17b470;
        text-decoration: none;
        font-weight: 600;
      }

      a:hover {
        color: #1b915e;
      }

      a:active {
        color: #e91e63;
      }

      a {
        transition: color 0.3s ease, text-decoration 0.3s ease;
      }

      .container {
        max-width: 1200px;
        margin: 20px auto;
        padding: 2rem;
      }

      header {
        background-color: #17b470;
        padding: 40px 20px;
        text-align: center;
        color: white;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 0rem;
      }

      h1 {
        margin: 0;
        font-size: 50px;
        font-weight: bold;
        text-align: center;
      }

      /* Home Button Styles */
      .home-button {
        position: absolute;
        left: 30px;
        top: 50%;
        transform: translateY(-50%);
        text-decoration: none;
      }

      .home-button img.home-icon {
        width: auto;
        height: 80px;
        border-radius: 5px;
      }

      .home-button:hover img.home-icon {
        opacity: 0.8;
      }

      @media (max-width: 700px) {
        .home-button {
          display: none;
        }
      }

      /* Combined stats and pie chart layout */
      .stats-overview {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 3rem;
        margin-bottom: 3rem;
        align-items: stretch;
      }

      .stats-column {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        gap: 1.5rem;
      }

      .stat-card {
        background: white;
        padding: 1.5rem;
        border-radius: 16px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .stat-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 25px rgba(0, 0, 0, 0.12);
      }

      .stat-card::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(90deg, var(--accent), rgb(57, 151, 206));
      }

      .stat-number {
        font-size: 2rem;
        font-weight: 600;
        color: #17b470;
        line-height: 1;
        margin-bottom: 0.5rem;
        animation: countUp 1s ease-out;
      }

      .release-text {
        font-size: 1.9rem;
        font-weight: 600;
        color: #17b470;
        line-height: 1;
        margin-bottom: 0.5rem;
      }

      @keyframes countUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .stat-label {
        font-size: 1rem;
        color: var(--medium-gray);
        font-weight: 500;
      }

      .pie-chart-container {
        background: white;
        padding: 2rem;
        border-radius: 16px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        height: 100%;
        display: flex;
        flex-direction: column;
      }

      .pie-chart-wrapper {
        position: relative;
        height: 300px;
        margin: 0 auto;
        flex: 1;
        display: flex;
        align-items: center;
      }

      .chart-container {
        background: white;
        padding: 2rem;
        border-radius: 16px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        margin-bottom: 2rem;
        position: relative;
        max-width: 100%;
      }

      .chart-title {
        font-size: 1.6rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
        color: #17b470;
      }

      .chart-wrapper {
        position: relative;
        height: 350px;
        margin: 0 auto;
      }

      .legend-custom {
        display: flex;
        justify-content: center;
        gap: 2rem;
        margin-top: 1.5rem;
        flex-wrap: wrap;
      }

      .legend-item {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.95rem;
        color: var(--medium-gray);
      }

      .legend-color {
        width: 20px;
        height: 20px;
        border-radius: 4px;
      }

      .insights {
        background: linear-gradient(135deg, #4fc8963e, var(--white));
        padding: 2rem;
        border-radius: 16px;
        margin-top: 3rem;
        border: 1px solid rgba(37, 99, 235, 0.1);
        max-width: 100%;
        font-size: 1.15rem;
      }

      .insights h3 {
        color: #17b470;
        margin-bottom: 1rem;
        font-size: 1.5rem;
      }

      .insights ul {
        list-style: none;
        padding-left: 0;
      }

      .insights li {
        padding: 0.5rem 0;
        padding-left: 1.5rem;
        position: relative;
      }

      .insights li::before {
        content: "→";
        position: absolute;
        left: 0;
        color: #17b470;
        font-weight: bold;
      }

      .bottom-banner {
        background-color: #626262;
        color: white;
        padding: 15px;
        font-size: 18px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        flex-wrap: wrap;
      }

      .elixir-image {
        max-width: 100px;
        height: auto;
        vertical-align: middle;
      }

      .bottom-banner a {
        color: white;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 5px;
      }

      .bottom-banner a:hover {
        text-decoration: underline;
      }

      @media (max-width: 768px) {
        .container {
          padding: 1rem;
          margin: 10px auto;
        }

        h1 {
          font-size: 2rem;
        }

        .stats-overview {
          grid-template-columns: 1fr;
          gap: 2rem;
        }

        .stat-number {
          font-size: 1.8rem;
        }

        .chart-wrapper {
          height: 250px;
        }

        .pie-chart-wrapper {
          height: 250px;
        }
      }

      .data-table {
        background: white;
        padding: 2rem;
        border-radius: 16px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        margin-top: 2rem;
        overflow-x: auto;
        max-width: 100%;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        font-size: 0.95rem;
      }

      th,
      td {
        padding: 1rem;
        text-align: left;
        border-bottom: 1px solid var(--light-gray);
      }

      th {
        background: var(--light-blue);
        font-weight: 600;
        color: var(--dark-gray);
        position: sticky;
        top: 0;
      }

      tr:hover {
        background: var(--light-gray);
      }

      .percentage {
        display: inline-block;
        padding: 0.25rem 0.75rem;
        background: var(--light-blue);
        border-radius: 12px;
        font-size: 0.85rem;
        font-weight: 500;
        color: var(--primary-blue);
      }
      .small-caps {
        font-variant-caps: small-caps;
      }

      .download-section {
        margin: 10px auto;
        padding: 12px 20px;
        background-color: #615ab3; /* Default purple - will be overridden by JavaScript */
        border: 1px solid #dee2e6;
        border-radius: 4px;
        max-width: 1250px;
        text-align: center;
      }

      .download-btn {
        display: inline-block;
        padding: 6px 16px;
        background-color: white;
        color: #615ab3; /* Default purple - will be overridden by JavaScript */
        text-decoration: none;
        border-radius: 4px;
        font-size: 15px;
        font-weight: 600;
        transition: all 0.3s ease;
        margin: 0;
        border: 2px solid transparent;
      }

      .download-btn:hover {
        background-color: rgba(255, 255, 255, 0.9);
        transform: translateY(-1px);
      }

      .download-btn:visited {
        color: #615ab3; /* Default purple - will be overridden by JavaScript */
      }

      .download-info {
        font-size: 11px;
        color: rgba(255, 255, 255, 0.8);
        margin: 4px 0 0 0;
        font-style: italic;
      }
    </style>
  </head>
  <body>
    <header>
      <!-- Home Button with Image -->
      <a href="/index.html" class="home-button">
        <img src="/images/logo1.png" alt="Home" class="home-icon" />
      </a>
      <h1>The Asparaginase Database</h1>
    </header>

    <div class="content">
      <h2
        id="disclaimer"
        style="
          color: #01ad62;
          font-size: 23px;
          text-align: left;
          margin-top: 50px;
        "
      >
        Disclaimer
      </h2>
      <p style="margin-bottom: 50px">
        While we strive for accuracy, the data is compiled from various
        published sources and we cannot guarantee its completeness or accuracy.
        Users should verify all information against original publications before
        use. This database is provided "as is" without warranty. We accept no
        liability for damages from use. Please note that information provided on
        families and classes of <span class="small-caps">l</span>&#8209;asparaginases
        is general and might not apply to every sequence or protein.
      </p>
    </div>

    <div id="asparaginases" class="bottom-banner">
      <div>
        <a href="https://www.asparaginasedb.com">The Asparaginase Database</a> ©
        2025 is licensed under
        <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a
        ><img
          src="https://mirrors.creativecommons.org/presskit/icons/cc.svg"
          style="max-width: 1em; max-height: 1em; margin-left: 0.2em"
        /><img
          src="https://mirrors.creativecommons.org/presskit/icons/by.svg"
          style="max-width: 1em; max-height: 1em; margin-left: 0.2em"
        />| Early Access | Contact:
      </div>
      <a href="mailto:stetinam@vscht.cz">stetinam@vscht.cz</a>| Supported by:
      <a href="https://www.elixir-czech.cz/" target="_blank">
        <img
          src="/images/elixir_logo.png"
          alt="elixir_logo.png"
          class="elixir-image"
        />
      </a>
    </div>
    <script>
      // Auto-detect file type and set download link
      const currentFile = window.location.pathname.split("/").pop();

      // Check for family files (class1-family2.html format)
      const familyMatch = currentFile.match(/class(\d+)-family(\d+)\.html/);

      // Check for class files (class1.html format)
      const classMatch = currentFile.match(/class(\d+)\.html/);

      // Check for index file
      const isIndex = currentFile === "index.html" || currentFile === "";

      // Color themes for each class
      const classThemes = {
        1: {
          primary: "#615ab3", // Purple theme for class 1
          hover: "#4a4691", // Darker shade for hover
        },
        2: {
          primary: "#68a11a", // Green theme for class 2
          hover: "#528015", // Darker shade for hover
        },
        3: {
          primary: "#9c42ac", // Purple/magenta theme for class 3
          hover: "#7d3489", // Darker shade for hover
        },
        master: {
          primary: "#2c3e50", // Dark blue/gray theme for master file
          hover: "#1a252f", // Darker shade for hover
        },
      };

      function applyTheme(classNum, isIndexPage = false) {
        const themeKey = isIndexPage ? "master" : classNum;
        const theme = classThemes[themeKey];

        if (theme) {
          const downloadSection = document.querySelector(".download-section");
          const downloadBtn = document.getElementById("downloadLink");

          if (downloadSection && downloadBtn) {
            // Set container background to theme color
            downloadSection.style.backgroundColor = theme.primary;

            // Set button text to theme color
            downloadBtn.style.color = theme.primary;

            // Update visited state color
            downloadBtn.addEventListener("click", function () {
              this.style.color = theme.primary;
            });

            // Add hover effect for button
            downloadBtn.addEventListener("mouseenter", function () {
              this.style.backgroundColor = "rgba(255, 255, 255, 0.9)";
              this.style.transform = "translateY(-1px)";
            });

            downloadBtn.addEventListener("mouseleave", function () {
              this.style.backgroundColor = "white";
              this.style.transform = "translateY(0)";
            });
          }
        }
      }

      // Handle family files (existing functionality)
      if (familyMatch) {
        const classNum = parseInt(familyMatch[1]);
        const familyNum = parseInt(familyMatch[2]);

        // Apply theme colors
        applyTheme(classNum);

        // Mapping of Class-Family to Clan numbers based on your structure
        const familyToClan = {
          // Class 1
          "1-1": 1, // 1-1-1
          "1-2": 1, // 1-1-2
          "1-3": 1, // 1-1-3
          "1-4": 1, // 1-1-4
          "1-5": 2, // 1-2-5
          "1-6": 2, // 1-2-6
          "1-7": 2, // 1-2-7
          "1-8": 3, // 1-3-8
          "1-9": 3, // 1-3-9
          "1-10": 4, // 1-4-10
          "1-11": 4, // 1-4-11
          "1-12": 4, // 1-4-12
          "1-13": 4, // 1-4-13
          "1-14": 5, // 1-5-14
          "1-15": 5, // 1-5-15
          "1-16": 5, // 1-5-16
          "1-17": 5, // 1-5-17
          "1-18": 5, // 1-5-18

          // Class 2
          "2-1": 1, // 2-1-1
          "2-2": 1, // 2-1-2
          "2-3": 1, // 2-1-3
          "2-4": 1, // 2-1-4
          "2-5": 1, // 2-1-5
          "2-6": 2, // 2-2-6
          "2-7": 3, // 2-3-7
          "2-8": 3, // 2-3-8
          "2-9": 3, // 2-3-9
          "2-10": 4, // 2-4-10
          "2-11": 4, // 2-4-11
          "2-12": 4, // 2-4-12
          "2-13": 5, // 2-5-13
          "2-14": 5, // 2-5-14
          "2-15": 5, // 2-5-15
          "2-16": 5, // 2-5-16
          "2-17": 5, // 2-5-17
          "2-18": 5, // 2-5-18

          // Class 3
          "3-1": 1, // 3-1-1
          "3-2": 2, // 3-2-2
          "3-3": 3, // 3-3-3
          "3-4": 4, // 3-4-4
        };

        const familyKey = `${classNum}-${familyNum}`;
        const clanNum = familyToClan[familyKey];

        if (clanNum) {
          const fileName = `asparaginasedb_${classNum}-${clanNum}-${familyNum}.fasta`;

          // Set download link
          const downloadLink = document.getElementById("downloadLink");
          const downloadInfo = document.getElementById("downloadInfo");

          downloadLink.href = `../downloads/${fileName}`;
          downloadLink.download = fileName;

          // Update info text
          downloadInfo.textContent = `File: ${fileName}`;

          console.log(
            `Family: Class ${classNum}, Clan ${clanNum}, Family ${familyNum}`
          );
          console.log(`Download file: ${fileName}`);
        } else {
          const downloadInfo = document.getElementById("downloadInfo");
          downloadInfo.textContent = `No file available for Class ${classNum}, Family ${familyNum}`;
          downloadInfo.style.color = "#dc3545";
          console.error(
            `No clan mapping found for Class ${classNum}, Family ${familyNum}`
          );
        }
      }
      // Handle class files (class1.html, class2.html, class3.html)
      else if (classMatch) {
        const classNum = parseInt(classMatch[1]);

        // Apply theme colors
        applyTheme(classNum);

        const fileName = `asparaginasedb_class${classNum}.fasta`;

        // Set download link
        const downloadLink = document.getElementById("downloadLink");
        const downloadInfo = document.getElementById("downloadInfo");

        if (downloadLink && downloadInfo) {
          downloadLink.href = `../downloads/${fileName}`;
          downloadLink.download = fileName;

          // Update info text
          downloadInfo.textContent = `File: ${fileName}`;

          console.log(`Class file: Class ${classNum}`);
          console.log(`Download file: ${fileName}`);
        }
      }
      // Handle index file (master sequence file)
      else if (isIndex) {
        // Apply master theme
        applyTheme(null, true);

        const fileName = `asparaginasedb.fasta`;

        // Set download link
        const downloadLink = document.getElementById("downloadLink");
        const downloadInfo = document.getElementById("downloadInfo");

        if (downloadLink && downloadInfo) {
          downloadLink.href = `downloads/${fileName}`;
          downloadLink.download = fileName;

          // Update info text
          downloadInfo.textContent = `File: ${fileName} (Master Database)`;

          console.log(`Index page: Master database file`);
          console.log(`Download file: ${fileName}`);
        }
      }
      // Error handling
      else {
        console.error("Could not parse filename to determine file type");
        const downloadInfo = document.getElementById("downloadInfo");
        if (downloadInfo) {
          downloadInfo.textContent = "Unable to determine download file";
          downloadInfo.style.color = "#dc3545";
        }
      }
    </script>
    <script
      data-collect-dnt="true"
      async
      src="https://scripts.simpleanalyticscdn.com/latest.js"
    ></script>
  </body>
</html>
